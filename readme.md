# 智能视频描述词生成（即梦/剪映 Prompt Agent）

面向：<https://jimeng.jianying.com/ai-tool/generate>

即梦视频生成需要“描述词/提示词”，但人类往往描述不够全面。
本项目提供一个 **Qt 桌面交互界面**：

- 你先粗略描述想要的视频内容
- AI Agent 自动分析拆解，找出缺失信息
- 通过 **多轮追问** 不断补全细节
- 最后输出 **足够详实、可直接粘贴** 的视频提示词（**画面 + 音乐**）
- 描写目标：电影级镜头语言 + 小说式局部细节

模型：默认使用 `qwen3-max-2026-01-23`（DashScope / 阿里云百炼 OpenAI 兼容接口）。

---

## 本地运行

### 1) 安装依赖

在项目目录下安装：

- `openai`（OpenAI SDK，用于调用 DashScope 的 OpenAI 兼容接口）
- `python-dotenv`（读取 `.env`）
- `PySide6`（Qt GUI）

依赖列表见：`requirements.txt`

### 2) 配置 `.env`

把 `.env.example` 复制为 `.env`，并填写：

- `DASHSCOPE_API_KEY=...`

注意：`.env` 已加入 `.gitignore`，请不要把 Key 提交到仓库。

> 你之前的 `.env` 里包含过真实 Key（已被我清理为占位符）。为了安全，建议你在控制台 **撤销/重置** 那个 Key，再填入新 Key。

### 3) 启动

运行：`python main.py`

---

## 使用方式

1. 在输入框里写下你想要的视频（写得粗一点也没关系）
2. 点“发送”，Agent 会每轮最多问 1~3 个问题来补齐细节
3. 你逐条回答、继续发送
4. 信息足够时，Agent 会输出“最终可粘贴提示词”（包含画面与音乐）
5. 也可以随时点“直接总结生成最终提示词”强制收束

输出会覆盖常用的生成要素：主体/场景/时间/风格/镜头/光影/色彩/动作/参数（时长、比例、fps等）/音乐与音效/负面避免项。